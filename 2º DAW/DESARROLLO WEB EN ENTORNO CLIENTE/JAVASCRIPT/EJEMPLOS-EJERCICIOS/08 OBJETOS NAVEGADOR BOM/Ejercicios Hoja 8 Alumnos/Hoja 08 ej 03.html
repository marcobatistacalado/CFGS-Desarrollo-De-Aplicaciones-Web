<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CONTROL FORMULARIOS</title>
    <link rel="stylesheet" href="main.css">

    <style>
        #precio {
            color: #222;
            font-weight: 600;
            line-height: 1.3;
        }
    </style>
    <script>
        var descuento = 0;

        function calcular() {
            habIn = document.getElementById("check1");
            seleccionDoble = 0;
            seleccionIn = 0;

            if (habIn.checked) {
                seleccionIn = Number(document.getElementById("sel1").value);
            }

            habDoble = document.getElementById("check2");
            if (habDoble.checked) {
                seleccionDoble = Number(document.getElementById("sel2").value);
            }

            let elementos = document.getElementsByName("desc");
            let desc;
            for (let i = 0; i < elementos.length; i++) {
                if (elementos[i].checked) {
                    desc = Number(elementos[i].value);
                    break;
                }
            }
            mia = window.open('', 'tuya', 'width=500,height=500,top=0, left=0');
            mia.document.write("<p>El precio por noche para las habitaciones es:</p><br>");
            mia.document.write("<p>" + seleccionIn + " individual -----> " + seleccionIn * 50 + "€</p>");
            mia.document.write("<p>" + seleccionDoble + " doble -----> " + seleccionDoble * 70 + "€</p>");
            let total = (seleccionIn * 50) + (seleccionDoble * 70);
            mia.document.write("<p>Total por noche: " + total + " €</p>");
            total = total - (total * desc) / 100;
            mia.document.write("<p>Aplicando " + desc + "% descuento: " + total + " €</p>");
            mia.document.write('<button onclick="window.close()">Cerrar Ventana</button>');

            document.getElementById("idpet").style.display = "inline";
        }

        function pedir() {
            let confirmar = confirm("¿Desea que nos pongamos en contacto con usted?");
            if (confirmar) {
                let ventanaInfo = window.open('', 'info', 'width=400,height=200,top=200,left=200');
                ventanaInfo.document.write("<p>¡Gracias por su interés! Nos pondremos en contacto con usted pronto.</p>");
                ventanaInfo.document.write("<p>La ventana se cerrará automáticamente en 5 segundos.</p>");
                setTimeout(function () {
                    ventanaInfo.close();
                }, 5000);
            } else {
                alert("Le esperamos en otra ocasión.");
                window.open("https://www.acierto.com", "_blank");
                window.open("https://www.santalucia.es", "_blank");
            }
        }
    </script>
</head>

<body>
    <h1>Control de Formularios</h1>
    <p>Actualmente nuestros precios por habitación y noche son (IVA incluido):</p>
    <ul>
        <li>Habitación individual: 50€</li>
        <li>Habitación doble: 70€</li>
    </ul>

    <input type="checkbox" id="check1" value="50"> Habitación individual <br>
    <span id="id50">Seleccione cuántas:
        <select id="sel1">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
        </select>
    </span>
    <br>

    <input type="checkbox" id="check2" value="70"> Habitación doble <br>
    <span id="id70">Seleccione cuántas:
        <select id="sel2">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
        </select>
    </span>
    <br>

    <p>Pudiendo aplicar uno de nuestros descuentos:</p>
    <input type="radio" checked name="desc" value="0" onclick="descuento=this.value"> Sin descuento
    <input type="radio" name="desc" value="10" onclick="descuento=this.value"> Familia numerosa (10%)
    <input type="radio" name="desc" value="20" onclick="descuento=this.value"> Tercera edad (20%)
    <br><br>

    <p>Si nos deja un teléfono, nosotros le llamamos:</p>
    <input type="text" id="telefono">
    <br><br>

    <input type="button" value="CALCULAR PRECIO" onclick="calcular()">
    <br><br>
    <input type="button" id="idpet" value="Más información" onclick="pedir()" style="display:none">

</body>

</html>
